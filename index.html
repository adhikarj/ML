<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Diabetes Risk Prediction (ONNX Model)</title>
  <script src="https://cdn.jsdelivr.net/npm/onnxruntime-web/dist/ort.min.js"></script>
  <style>
    body { font-family: Arial, sans-serif; margin: 40px; }
    input { margin: 6px; width: 80px; }
    button { margin-top: 10px; padding: 8px 12px; }
  </style>
</head>
<body>
  <h2>ðŸ©º Diabetes Risk Prediction (ONNX Model)</h2>
  <p>Enter sample health values to estimate diabetes risk score:</p>

  <label>Age: <input type="number" id="age" value="45"></label><br>
  <label>BMI: <input type="number" id="bmi" value="27"></label><br>
  <label>Systolic BP: <input type="number" id="sbp" value="120"></label><br><br>

  <button onclick="predict()">Predict Risk Score</button>
  <p id="result"></p>

  <script>
    async function predict() {
      document.getElementById('result').textContent = "Running inference...";
      try {
        // Example: using 3 input features (Age, BMI, SBP)
        const age = parseFloat(document.getElementById('age').value);
        const bmi = parseFloat(document.getElementById('bmi').value);
        const sbp = parseFloat(document.getElementById('sbp').value);

        const input = new Float32Array([age, bmi, sbp]);
        const tensor = new ort.Tensor('float32', input, [1, 3]);

        const session = await ort.InferenceSession.create('diabetes_risk_model.onnx');
        const feeds = { input: tensor };
        const results = await session.run(feeds);
        const output = results.output.data[0];

        document.getElementById('result').innerHTML =
          `<b>Predicted Diabetes Risk Score:</b> ${output.toFixed(2)}`;
      } catch (err) {
        console.error(err);
        document.getElementById('result').textContent = "Error running model (check console).";
      }
    }
  </script>
</body>
</html>
